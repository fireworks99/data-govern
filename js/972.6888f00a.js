"use strict";(self["webpackChunkdata_govern"]=self["webpackChunkdata_govern"]||[]).push([[972],{301:function(e,t,a){a.r(t),a.d(t,{default:function(){return f}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"wrapper"},[t("div",{staticClass:"left"},[t("PanelLayout",{attrs:{title:"采集布局"}},[t("template",{slot:"right"},[t("div",{staticClass:"white-btn flex_center live-btn"},[t("i",{staticClass:"el-icon-plus"})]),t("div",{staticClass:"white-btn flex_center live-btn"},[t("i",{staticClass:"el-icon-refresh"})])]),t("div",{staticClass:"intro"},[e._v("层级结构: 任务 > 阶段 > 平台")]),t("div",{staticClass:"intro",staticStyle:{display:"flex"}},[t("div",{staticClass:"flex_center",staticStyle:{"white-space":"nowrap"}},[e._v("选择任务：")]),t("el-select",{attrs:{placeholder:"请选择",size:"small"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[t("el-option",{attrs:{label:"任务1",value:"1"}})],1)],1),t("div",{staticClass:"intro"},[t("el-input",{attrs:{placeholder:"输入节点名称进行查询...","prefix-icon":"el-icon-search",clearable:"",size:"small"},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}})],1),t("div",{staticClass:"tree_wrapper"},[t("el-tree",{ref:"tree",attrs:{data:e.treeData,"show-checkbox":"","default-expand-all":"","node-key":"id","highlight-current":"","render-content":e.renderTreeNode,props:e.defaultProps},on:{"check-change":e.handleCheckChange}})],1)],2)],1),t("div",{staticClass:"right"},[t("div",{staticClass:"top"},[t("PanelLayout",{attrs:{title:"申领表",icon:"fill"}},[t("div",{staticStyle:{padding:"16px","box-sizing":"border-box"}},[t("FilterItem",{attrs:{title:"申领标题"}},[t("el-input",{attrs:{placeholder:"请输入申领标题",clearable:""},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}})],1),t("div",{staticClass:"separator"}),t("FilterItem",{attrs:{title:"数据描述"}},[t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请描述需要申领的数据内容"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),t("div",{staticClass:"separator"}),t("FilterItem",{attrs:{title:"使用目的"}},[t("el-input",{attrs:{type:"textarea",rows:2,placeholder:"请说明数据使用目的"},model:{value:e.aim,callback:function(t){e.aim=t},expression:"aim"}})],1),t("div",{staticStyle:{"margin-top":"12px"}},[t("div",{staticStyle:{"font-size":"14px",color:"#6e7786","margin-bottom":"8px"}},[e._v("申领文件列表")]),t("div",{staticClass:"list_wrapper"},[t("div",{staticStyle:{"max-height":"80px","overflow-y":"auto"}},e._l(e.selectedFiles,function(a){return t("div",{key:a.id,staticClass:"list_item"},[t("div",[e._v("📄"+e._s(a.label))]),t("div",{staticStyle:{display:"flex"}},[t("div",[e._v(e._s(a.size)+"MB")]),t("div",{staticStyle:{margin:"auto 8px",color:"#ef4447",cursor:"pointer"},on:{click:()=>e.removeFile(a.id)}},[t("i",{staticClass:"el-icon-close"})])])])}),0),t("div",{staticClass:"total"},[t("div",[e._v("共"+e._s(e.selectedFiles.length)+"个文件")]),t("div",[e._v("总大小: "+e._s(e.totalSize)+"MB")])])])]),t("div",{staticStyle:{"margin-top":"12px",display:"flex","align-items":"center","justify-content":"right"}},[t("el-button",{attrs:{size:"small",icon:"el-icon-download"}},[e._v("申领表导出")]),t("el-button",{attrs:{size:"small",type:"primary",icon:"el-icon-s-promotion"}},[e._v("提交申请")])],1)],1)])],1),t("div",{staticClass:"bottom"},[t("PanelLayout",{attrs:{title:"申领记录",icon:"history"}},[t("div",{staticStyle:{padding:"16px",height:"100%","box-sizing":"border-box"}},[t("div",{staticClass:"table_wrapper"},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,height:"100%"}},[t("el-table-column",{attrs:{prop:"title",label:"申领标题",align:"center"}}),t("el-table-column",{attrs:{prop:"uploadTime",label:"申领时间",align:"center"}}),t("el-table-column",{attrs:{label:"文件数量",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.filenum)+"个 ")]}}])}),t("el-table-column",{attrs:{prop:"size",label:"文件大小",align:"center"}}),t("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{staticClass:"status_show",style:[{backgroundColor:e.colorMap[a.row.status]}]},[e._v(" "+e._s(e.statusMap[a.row.status]||"未知状态")+" ")])]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"280",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-el-icon-view"},on:{click:function(t){return e.handleClick(a.row)}}},[e._v("查看")]),t("el-button",{attrs:{type:"success",size:"mini",icon:"el-icon-download"},on:{click:function(t){return e.handleClick(a.row)}}},[e._v("下载")])]}}])})],1)],1),t("div",{staticClass:"flex_center",staticStyle:{height:"48px"}},[t("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.pageSize,"page-sizes":[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])])],1)])])},i=[],s=(a(8111),a(2489),a(8237),a(5205)),n=a(3642),o=a(2661),r=a(6508),c=a(7963),d={name:"DataApply",components:{PanelLayout:s.A,FilterItem:r.A},data(){return{value:"1",input:"",treeData:null,defaultProps:{children:"children",label:"label"},statusMap:{1:"已通过",2:"审核中",3:"已拒绝"},colorMap:{1:"#d1fae5",2:"#fef3c7",3:"#fee2e2"},title:"",description:"",aim:"",selectedFiles:[],tableData:[],currentPage:1,pageSize:5,total:0,loading:!1}},computed:{totalSize(){return this.selectedFiles.reduce((e,t)=>e+t.size,0)}},mounted(){window.dataApply=this,this.treeData=n,setTimeout(()=>{this.$refs.tree.setCheckedKeys(["1-1-1-1","1-1-2-2"])},100),this.getTableData()},methods:{renderTreeNode:o.H,handleCheckChange(e,t,a){const l=this.$refs.tree.getCheckedNodes();this.selectedFiles=l.filter(e=>e.id.length>5)},removeFile(e){const t=this.$refs.tree.getCheckedKeys().filter(t=>t!==e&&t.length>5);this.$refs.tree.setCheckedKeys(t)},handleSizeChange(e){console.log(`每页 ${e} 条`),this.pageSize=e,this.getTableData()},handleCurrentChange(e){console.log(`当前页: ${e}`),this.currentPage=e,this.getTableData()},getTableData(){this.loading=!0,(0,c.p)({pageSize:this.pageSize,pageNum:this.currentPage}).then(e=>{this.loading=!1,200===e.status&&(this.tableData=e.data.list,this.total=e.data.total)})},handleClick(e){console.log(e)}}},p=d,m=a(845),u=(0,m.A)(p,l,i,!1,null,"24af297a",null),f=u.exports},2661:function(e,t,a){function l(e,{node:t,data:a,store:l}){const i=a.id.length>5;return e("span",{class:"custom-tree-node"},[e("span",null,i?"📄":"📁"),e("span",{style:"margin-left: 5px;"},t.label)])}a.d(t,{H:function(){return l}})},3642:function(e){e.exports=JSON.parse('[{"id":"1","label":"任务1","children":[{"id":"1-1","label":"准备阶段","children":[{"id":"1-1-1","label":"平台1","children":[{"id":"1-1-1-1","label":"演训文档1.doc","size":2.5},{"id":"1-1-1-2","label":"演训文档1.xlsx","size":1.8},{"id":"1-1-1-3","label":"图片文件1.JPG","size":0.9}]},{"id":"1-1-2","label":"平台2","children":[{"id":"1-1-2-1","label":"音视频1.MP4","size":1.5},{"id":"1-1-2-2","label":"图片文件2.JPG","size":1.3}]},{"id":"1-1-3","label":"平台3","children":[{"id":"1-1-3-1","label":"演训文档2.xlsx","size":2.5},{"id":"1-1-3-2","label":"图片文件3.JPG","size":3.4},{"id":"1-1-3-3","label":"音视频3.MP4","size":5.9}]}]},{"id":"1-2","label":"实兵阶段","children":[]},{"id":"1-3","label":"复盘阶段","children":[]}]}]')},6508:function(e,t,a){a.d(t,{A:function(){return c}});var l=function(){var e=this,t=e._self._c;return t("div",{staticClass:"filter-item"},[t("div",{class:["title",{"no-title":"标题"===e.title}]},[t("i",{class:e.icon}),e._v(" "+e._s(e.title)+" ")]),t("div",{staticClass:"other"},[e._t("default")],2)])},i=[],s={name:"FilterItem",props:{title:{type:String,default:"标题"},icon:{type:String,default:""}}},n=s,o=a(845),r=(0,o.A)(n,l,i,!1,null,"299d5d68",null),c=r.exports},7963:function(e,t,a){a.d(t,{p:function(){return s}});var l=JSON.parse('[{"id":"D202306001","name":"音视频频谱分析组件","type":"1","multiformat":"*.wav*.mp3","db":"1","title":"数据申领1","filenum":5,"filetype":"1","errorcause":"文件格式不支持","stage":"1","platform":"1","status":"1","filename":"📄演训文档1.doc","format":"DOC","size":"2.4MB","uploadTime":"2023-07-25 09:30","component":"1"},{"id":"D202306002","name":"视频关键帧参数提取组件","type":"3","multiformat":"*.mp4*.flv","db":"2","title":"数据申领2","filenum":3,"filetype":"1","errorcause":"内容解析失败","stage":"2","platform":"1","status":"1","filename":"📊演训文档1.xlsx","format":"XLSX","size":"1.8MB","uploadTime":"2023-07-25 08:15","component":"2"},{"id":"D202306003","name":"知识要素提取组件","type":"2","multiformat":"*.doc*.ppt*.xlsx","db":"3","title":"数据申领3","filenum":2,"filetype":"2","errorcause":"音视频质量过低","stage":"3","platform":"2","status":"2","filename":"🖼️图片文件.JPG","format":"JPG","size":"3.2MB","uploadTime":"2023-07-25 07:45","component":"3"},{"id":"D202306004","name":"关键时间提取组件","type":"1","multiformat":"*.jpg*.png","db":"4","title":"数据申领4","filenum":1,"filetype":"1","errorcause":"索引构建异常","stage":"1","platform":"1","status":"1","filename":"🎵音视频1.MP4","format":"MP4","size":"15.7MB","uploadTime":"2023-07-25 06:20","component":""},{"id":"D202306005","name":"图片文本检测组件","type":"1","multiformat":"*.wav*.mp3","db":"3","title":"数据申领5","filenum":2,"filetype":"2","errorcause":"视频编码不支持","stage":"2","platform":"1","status":"1","filename":"📊演训文档2.xlsx","format":"XLSX","size":"3.2MB","uploadTime":"2023-07-25 05:10","component":"1"},{"id":"D202306006","name":"音视频频谱分析组件2","type":"1","multiformat":"*.wav*.mp3","db":"2","title":"数据申领6","filenum":3,"filetype":"1","errorcause":"文件格式不支持","stage":"3","platform":"2","status":"3","filename":"📄演训文档3.doc","format":"DOC","size":"21.4MB","uploadTime":"2023-07-25 09:30","component":"1"},{"id":"D202306007","name":"视频关键帧参数提取组件2","type":"3","multiformat":"*.wav*.mp3","db":"1","title":"数据申领7","filenum":4,"filetype":"1","errorcause":"内容解析失败","stage":"1","platform":"1","status":"1","filename":"📊演训文档4.xlsx","format":"XLSX","size":"11.8MB","uploadTime":"2023-07-25 08:15","component":"2"},{"id":"D202306008","name":"音视频频谱分析组件6","type":"1","multiformat":"*.wav*.mp3","db":"2","title":"数据申领8","filenum":7,"filetype":"2","errorcause":"音视频质量过低","stage":"2","platform":"2","status":"3","filename":"🖼️图片文件2.JPG","format":"JPG","size":"13.2MB","uploadTime":"2023-07-25 07:45","component":"3"},{"id":"D202306009","name":"知识要素提取组件2","type":"2","multiformat":".doc*.ppt*.xlsx","db":"3","title":"数据申领9","filenum":8,"filetype":"1","errorcause":"索引构建异常","stage":"3","platform":"1","status":"1","filename":"🎵音视频2.MP4","format":"MP4","size":"1.7MB","uploadTime":"2023-07-25 06:20","component":""},{"id":"D202306010","name":"音视频频谱分析组件3","type":"1","multiformat":"*.wav*.mp3","db":"4","title":"数据申领10","filenum":5,"filetype":"2","errorcause":"文件格式不支持","stage":"1","platform":"3","status":"2","filename":"📊演训文档5.xlsx","format":"XLSX","size":"32.2MB","uploadTime":"2023-07-25 05:10","component":"1"},{"id":"D202306011","name":"视频关键帧参数提取组件3","type":"1","multiformat":"*.wav*.mp3","db":"3","title":"数据申领11","filenum":3,"filetype":"2","errorcause":"视频编码不支持","stage":"2","platform":"1","status":"1","filename":"📄演训文档6.doc","format":"DOC","size":"10.4MB","uploadTime":"2023-07-25 09:30","component":"1"},{"id":"D202306012","name":"知识要素提取组件3","type":"2","multiformat":".doc*.ppt*.xlsx","db":"2","title":"数据申领12","filenum":2,"filetype":"2","errorcause":"音视频质量过低","stage":"3","platform":"1","status":"2","filename":"📊演训文档7.xlsx","format":"XLSX","size":"11.8MB","uploadTime":"2023-07-25 08:15","component":"2"},{"id":"D202306013","name":"音视频频谱分析组件4","type":"1","multiformat":"*.wav*.mp3","db":"1","title":"数据申领13","filenum":5,"filetype":"1","errorcause":"文件格式不支持","stage":"1","platform":"2","status":"1","filename":"🖼️图片文件3.JPG","format":"JPG","size":"3.29MB","uploadTime":"2023-07-25 07:45","component":"3"},{"id":"D202306014","name":"视频关键帧参数提取组件4","type":"3","multiformat":"*.wav*.mp3","db":"2","title":"数据申领14","filenum":1,"filetype":"1","errorcause":"索引构建异常","stage":"2","platform":"1","status":"3","filename":"🎵音视频3.MP4","format":"MP4","size":"15.57MB","uploadTime":"2023-07-25 06:20","component":""},{"id":"D202306015","name":"音视频频谱分析组件5","type":"1","multiformat":"*.wav*.mp3","db":"3","title":"数据申领15","filenum":5,"filetype":"2","errorcause":"视频编码不支持","stage":"3","platform":"1","status":"1","filename":"📊演训文档8.xlsx","format":"XLSX","size":"3.62MB","uploadTime":"2023-07-25 05:10","component":"1"}]');const i={base_data:l};function s(e,t="base_data"){const a=i[t];return new Promise(t=>{const{pageSize:l,pageNum:i}=e,s=(i-1)*l;setTimeout(()=>{t({status:200,data:{list:a.slice(s,s+l),total:a.length}})},500)})}}}]);
//# sourceMappingURL=972.6888f00a.js.map