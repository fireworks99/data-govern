{"version":3,"file":"js/972.6888f00a.js","mappings":"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","sources":["webpack://data-govern/./src/views/service/DataApply.vue","webpack://data-govern/src/views/service/DataApply.vue","webpack://data-govern/./src/views/service/DataApply.vue?647c","webpack://data-govern/./src/views/service/DataApply.vue?2d2d","webpack://data-govern/./src/utils/index.js","webpack://data-govern/./src/components/FilterItem.vue","webpack://data-govern/src/components/FilterItem.vue","webpack://data-govern/./src/components/FilterItem.vue?2b3a","webpack://data-govern/./src/components/FilterItem.vue?3c5c","webpack://data-govern/./src/api/index.js"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"wrapper\"},[_c('div',{staticClass:\"left\"},[_c('PanelLayout',{attrs:{\"title\":\"采集布局\"}},[_c('template',{slot:\"right\"},[_c('div',{staticClass:\"white-btn flex_center live-btn\"},[_c('i',{staticClass:\"el-icon-plus\"})]),_c('div',{staticClass:\"white-btn flex_center live-btn\"},[_c('i',{staticClass:\"el-icon-refresh\"})])]),_c('div',{staticClass:\"intro\"},[_vm._v(\"层级结构: 任务 > 阶段 > 平台\")]),_c('div',{staticClass:\"intro\",staticStyle:{\"display\":\"flex\"}},[_c('div',{staticClass:\"flex_center\",staticStyle:{\"white-space\":\"nowrap\"}},[_vm._v(\"选择任务：\")]),_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"size\":\"small\"},model:{value:(_vm.value),callback:function ($$v) {_vm.value=$$v},expression:\"value\"}},[_c('el-option',{attrs:{\"label\":\"任务1\",\"value\":\"1\"}})],1)],1),_c('div',{staticClass:\"intro\"},[_c('el-input',{attrs:{\"placeholder\":\"输入节点名称进行查询...\",\"prefix-icon\":\"el-icon-search\",\"clearable\":\"\",\"size\":\"small\"},model:{value:(_vm.input),callback:function ($$v) {_vm.input=$$v},expression:\"input\"}})],1),_c('div',{staticClass:\"tree_wrapper\"},[_c('el-tree',{ref:\"tree\",attrs:{\"data\":_vm.treeData,\"show-checkbox\":\"\",\"default-expand-all\":\"\",\"node-key\":\"id\",\"highlight-current\":\"\",\"render-content\":_vm.renderTreeNode,\"props\":_vm.defaultProps},on:{\"check-change\":_vm.handleCheckChange}})],1)],2)],1),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"top\"},[_c('PanelLayout',{attrs:{\"title\":\"申领表\",\"icon\":\"fill\"}},[_c('div',{staticStyle:{\"padding\":\"16px\",\"box-sizing\":\"border-box\"}},[_c('FilterItem',{attrs:{\"title\":\"申领标题\"}},[_c('el-input',{attrs:{\"placeholder\":\"请输入申领标题\",\"clearable\":\"\"},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}})],1),_c('div',{staticClass:\"separator\"}),_c('FilterItem',{attrs:{\"title\":\"数据描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请描述需要申领的数据内容\"},model:{value:(_vm.description),callback:function ($$v) {_vm.description=$$v},expression:\"description\"}})],1),_c('div',{staticClass:\"separator\"}),_c('FilterItem',{attrs:{\"title\":\"使用目的\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":2,\"placeholder\":\"请说明数据使用目的\"},model:{value:(_vm.aim),callback:function ($$v) {_vm.aim=$$v},expression:\"aim\"}})],1),_c('div',{staticStyle:{\"margin-top\":\"12px\"}},[_c('div',{staticStyle:{\"font-size\":\"14px\",\"color\":\"#6e7786\",\"margin-bottom\":\"8px\"}},[_vm._v(\"申领文件列表\")]),_c('div',{staticClass:\"list_wrapper\"},[_c('div',{staticStyle:{\"max-height\":\"80px\",\"overflow-y\":\"auto\"}},_vm._l((_vm.selectedFiles),function(item){return _c('div',{key:item.id,staticClass:\"list_item\"},[_c('div',[_vm._v(\"📄\"+_vm._s(item.label))]),_c('div',{staticStyle:{\"display\":\"flex\"}},[_c('div',[_vm._v(_vm._s(item.size)+\"MB\")]),_c('div',{staticStyle:{\"margin\":\"auto 8px\",\"color\":\"#ef4447\",\"cursor\":\"pointer\"},on:{\"click\":() => _vm.removeFile(item.id)}},[_c('i',{staticClass:\"el-icon-close\"})])])])}),0),_c('div',{staticClass:\"total\"},[_c('div',[_vm._v(\"共\"+_vm._s(_vm.selectedFiles.length)+\"个文件\")]),_c('div',[_vm._v(\"总大小: \"+_vm._s(_vm.totalSize)+\"MB\")])])])]),_c('div',{staticStyle:{\"margin-top\":\"12px\",\"display\":\"flex\",\"align-items\":\"center\",\"justify-content\":\"right\"}},[_c('el-button',{attrs:{\"size\":\"small\",\"icon\":\"el-icon-download\"}},[_vm._v(\"申领表导出\")]),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\",\"icon\":\"el-icon-s-promotion\"}},[_vm._v(\"提交申请\")])],1)],1)])],1),_c('div',{staticClass:\"bottom\"},[_c('PanelLayout',{attrs:{\"title\":\"申领记录\",\"icon\":\"history\"}},[_c('div',{staticStyle:{\"padding\":\"16px\",\"height\":\"100%\",\"box-sizing\":\"border-box\"}},[_c('div',{staticClass:\"table_wrapper\"},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"height\":\"100%\"}},[_c('el-table-column',{attrs:{\"prop\":\"title\",\"label\":\"申领标题\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"prop\":\"uploadTime\",\"label\":\"申领时间\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"文件数量\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\" \"+_vm._s(scope.row.filenum)+\"个 \")]}}])}),_c('el-table-column',{attrs:{\"prop\":\"size\",\"label\":\"文件大小\",\"align\":\"center\"}}),_c('el-table-column',{attrs:{\"label\":\"状态\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticClass:\"status_show\",style:([{ backgroundColor: _vm.colorMap[scope.row.status] }])},[_vm._v(\" \"+_vm._s(_vm.statusMap[scope.row.status] || '未知状态')+\" \")])]}}])}),_c('el-table-column',{attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"width\":\"280\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"mini\",\"icon\":\"el-icon-el-icon-view\"},on:{\"click\":function($event){return _vm.handleClick(scope.row)}}},[_vm._v(\"查看\")]),_c('el-button',{attrs:{\"type\":\"success\",\"size\":\"mini\",\"icon\":\"el-icon-download\"},on:{\"click\":function($event){return _vm.handleClick(scope.row)}}},[_vm._v(\"下载\")])]}}])})],1)],1),_c('div',{staticClass:\"flex_center\",staticStyle:{\"height\":\"48px\"}},[_c('el-pagination',{attrs:{\"current-page\":_vm.currentPage,\"page-size\":_vm.pageSize,\"page-sizes\":[5, 10, 15, 20],\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)])])],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"wrapper\">\n    <div class=\"left\">\n      <PanelLayout title=\"采集布局\">\n        <template slot=\"right\">\n          <div class=\"white-btn flex_center live-btn\"><i class=\"el-icon-plus\"></i></div>\n          <div class=\"white-btn flex_center live-btn\"><i class=\"el-icon-refresh\"></i></div>\n        </template>\n        <div class=\"intro\">层级结构: 任务 > 阶段 > 平台</div>\n        <div class=\"intro\" style=\"display: flex;\">\n          <div style=\"white-space: nowrap;\" class=\"flex_center\">选择任务：</div>\n          <el-select placeholder=\"请选择\" v-model=\"value\" size=\"small\">\n            <el-option label=\"任务1\" value=\"1\"></el-option>\n          </el-select>\n        </div>\n        <div class=\"intro\">\n          <el-input placeholder=\"输入节点名称进行查询...\" prefix-icon=\"el-icon-search\" v-model=\"input\" clearable size=\"small\"></el-input>\n        </div>\n        <div class=\"tree_wrapper\">\n          <el-tree :data=\"treeData\" show-checkbox default-expand-all node-key=\"id\" ref=\"tree\" highlight-current\n            :render-content=\"renderTreeNode\" :props=\"defaultProps\" @check-change=\"handleCheckChange\">\n          </el-tree>\n        </div>\n      </PanelLayout>\n    </div>\n    <div class=\"right\">\n      <div class=\"top\">\n        <PanelLayout title=\"申领表\" icon=\"fill\">\n          <div style=\"padding: 16px; box-sizing: border-box;\">\n            <FilterItem title=\"申领标题\">\n              <el-input v-model=\"title\" placeholder=\"请输入申领标题\" clearable></el-input>\n            </FilterItem>\n\n            <div class=\"separator\"></div>\n\n            <FilterItem title=\"数据描述\">\n              <el-input type=\"textarea\" :rows=\"2\" v-model=\"description\" placeholder=\"请描述需要申领的数据内容\"></el-input>\n            </FilterItem>\n\n            <div class=\"separator\"></div>\n\n            <FilterItem title=\"使用目的\">\n              <el-input type=\"textarea\" :rows=\"2\" v-model=\"aim\" placeholder=\"请说明数据使用目的\"></el-input>\n            </FilterItem>\n\n            <div style=\"margin-top: 12px;\">\n              <div style=\"font-size: 14px;color: #6e7786;margin-bottom: 8px;\">申领文件列表</div>\n              <div class=\"list_wrapper\">\n                <div style=\"max-height: 80px; overflow-y: auto;\">\n                  <div class=\"list_item\" v-for=\"item in selectedFiles\" :key=\"item.id\">\n                    <div>📄{{ item.label }}</div>\n                    <div style=\"display: flex;\">\n                      <div>{{ item.size }}MB</div>\n                      <div style=\"margin: auto 8px; color: #ef4447; cursor: pointer;\"\n                        @click=\"() => removeFile(item.id)\">\n                        <i class=\"el-icon-close\"></i>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"total\">\n                  <div>共{{ selectedFiles.length }}个文件</div>\n                  <div>总大小: {{ totalSize }}MB</div>\n                </div>\n              </div>\n            </div>\n\n            <div style=\"margin-top: 12px; display: flex; align-items: center; justify-content: right;\">\n              <el-button size=\"small\" icon=\"el-icon-download\">申领表导出</el-button>\n              <el-button size=\"small\" type=\"primary\" icon=\"el-icon-s-promotion\">提交申请</el-button>\n            </div>\n          </div>\n        </PanelLayout>\n      </div>\n      <div class=\"bottom\">\n        <PanelLayout title=\"申领记录\" icon=\"history\">\n          <div style=\"padding: 16px;height: 100%;box-sizing: border-box;\">\n            <div class=\"table_wrapper\">\n              <el-table :data=\"tableData\" style=\"width: 100%\" height=\"100%\" v-loading=\"loading\">\n                <el-table-column prop=\"title\" label=\"申领标题\" align=\"center\"></el-table-column>\n                <el-table-column prop=\"uploadTime\" label=\"申领时间\" align=\"center\"></el-table-column>\n                <el-table-column label=\"文件数量\" align=\"center\">\n                  <template slot-scope=\"scope\">\n                    {{ scope.row.filenum }}个\n                  </template>\n                </el-table-column>\n                <el-table-column prop=\"size\" label=\"文件大小\" align=\"center\"></el-table-column>\n                <el-table-column label=\"状态\" align=\"center\">\n                  <template slot-scope=\"scope\">\n                    <span :style=\"[{ backgroundColor: colorMap[scope.row.status] }]\" class=\"status_show\">\n                      {{ statusMap[scope.row.status] || '未知状态' }}\n                    </span>\n                  </template>\n                </el-table-column>\n                <el-table-column fixed=\"right\" label=\"操作\" width=\"280\" align=\"center\">\n                  <template slot-scope=\"scope\">\n                    <el-button @click=\"handleClick(scope.row)\" type=\"primary\" size=\"mini\"\n                      icon=\"el-icon-el-icon-view\">查看</el-button>\n                    <el-button @click=\"handleClick(scope.row)\" type=\"success\" size=\"mini\"\n                      icon=\"el-icon-download\">下载</el-button>\n                  </template>\n                </el-table-column>\n              </el-table>\n            </div>\n\n            <div class=\"flex_center\" style=\"height: 48px;\">\n              <el-pagination :current-page=\"currentPage\" :page-size=\"pageSize\" :page-sizes=\"[5, 10, 15, 20]\"\n                layout=\"total, sizes, prev, pager, next, jumper\" :total=\"total\" @size-change=\"handleSizeChange\"\n                @current-change=\"handleCurrentChange\" />\n            </div>\n          </div>\n        </PanelLayout>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport PanelLayout from '@/components/PanelLayout.vue';\nimport treeData from '@/assets/data/tree.json';\nimport { renderTreeNode } from '@/utils';\nimport FilterItem from '@/components/FilterItem.vue';\nimport { queryDataByCondition } from '@/api';\n\nexport default {\n  name: 'DataApply',\n  components: {\n    PanelLayout,\n    FilterItem\n  },\n  data() {\n    return {\n      value: '1',\n      input: '',\n      treeData: null,\n      defaultProps: {\n        children: 'children',\n        label: 'label'\n      },\n      statusMap: {\n        '1': '已通过',\n        '2': '审核中',\n        '3': '已拒绝',\n      },\n      colorMap: {\n        '1': '#d1fae5',\n        '2': '#fef3c7',\n        '3': '#fee2e2',\n      },\n      title: '',\n      description: '',\n      aim: '',\n      selectedFiles: [],\n      tableData: [],\n      currentPage: 1,\n      pageSize: 5,\n      total: 0,\n      loading: false\n    }\n  },\n  computed: {\n    totalSize() {\n      return this.selectedFiles.reduce((sum, file) => sum + file.size, 0);\n    }\n  },\n  mounted() {\n    window.dataApply = this;\n    this.treeData = treeData;\n    setTimeout(() => {\n      this.$refs.tree.setCheckedKeys(['1-1-1-1', '1-1-2-2'])\n    }, 100);\n    this.getTableData();\n  },\n  methods: {\n    renderTreeNode,\n    handleCheckChange(data, checked, indeterminate) {\n      // console.log(data, checked, indeterminate);\n      // console.log(this.$refs.tree.getCheckedNodes());\n      const nodes = this.$refs.tree.getCheckedNodes();\n      this.selectedFiles = nodes.filter(item => item.id.length > 5);\n    },\n    removeFile(id) {\n      const ids = this.$refs.tree.getCheckedKeys().filter(item => item !== id && item.length > 5);\n      this.$refs.tree.setCheckedKeys(ids);\n    },\n    handleSizeChange(val) {\n      console.log(`每页 ${val} 条`);\n      this.pageSize = val;\n      this.getTableData();\n    },\n    handleCurrentChange(val) {\n      console.log(`当前页: ${val}`);\n      this.currentPage = val;\n      this.getTableData();\n    },\n    getTableData() {\n      this.loading = true;\n      queryDataByCondition({\n        pageSize: this.pageSize,\n        pageNum: this.currentPage\n      }).then(res => {\n        this.loading = false;\n        if (res.status === 200) {\n          this.tableData = res.data.list;\n          // this.tableData = [];//暂无数据\n          this.total = res.data.total;\n        }\n      })\n    },\n    handleClick(row) {\n      console.log(row);\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.wrapper {\n  height: 100%;\n  display: flex;\n  padding: 0 16px 16px 16px;\n  box-sizing: border-box;\n  gap: 16px;\n\n  .left {\n    flex: 1;\n\n    .white-btn {\n      background-color: #fff;\n      width: 24px;\n      height: 24px;\n      border-radius: 4px;\n      cursor: pointer;\n      margin-left: 8px;\n    }\n\n    .intro {\n      background-color: #f8fafc;\n      padding: 8px 12px;\n      color: #6e7786;\n      font-size: 14px;\n      border-bottom: 1px solid rgba(127, 127, 127, 0.2);\n    }\n\n    .tree_wrapper {\n      padding: 12px;\n    }\n  }\n\n  .right {\n    flex: 3;\n    display: flex;\n    flex-direction: column;\n    gap: 16px;\n\n    .top {\n\n      .list_wrapper {\n        background-color: #f8fafc;\n        border-radius: 8px;\n        border: 1px solid rgba(127, 127, 127, .2);\n\n        .list_item {\n          display: flex;\n          justify-content: space-between;\n          padding: 8px;\n          box-sizing: border-box;\n\n          &:not(:last-child) {\n            border-bottom: 1px solid rgba(127, 127, 127, .2);\n          }\n        }\n\n        .total {\n          background-color: #f1f5f9;\n          display: flex;\n          justify-content: space-between;\n          padding: 8px;\n          box-sizing: border-box;\n        }\n      }\n\n    }\n\n    .bottom {\n      flex: 1;\n      min-height: 0;\n\n      .table_wrapper {\n        height: calc(100% - 48px);\n        overflow-y: auto;\n\n        .status_show {\n          display: block;\n          width: 64px;\n          border-radius: 4px;\n          margin: auto;\n        }\n      }\n    }\n  }\n\n}\n</style>","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DataApply.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./DataApply.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./DataApply.vue?vue&type=template&id=24af297a&scoped=true\"\nimport script from \"./DataApply.vue?vue&type=script&lang=js\"\nexport * from \"./DataApply.vue?vue&type=script&lang=js\"\nimport style0 from \"./DataApply.vue?vue&type=style&index=0&id=24af297a&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"24af297a\",\n  null\n  \n)\n\nexport default component.exports","export function renderTreeNode(h, { node, data, store }) {\n  // const isLeaf = !data.children || data.children.length === 0;\n  const isLeaf = data.id.length > 5;\n\n  return h(\n    'span',\n    {\n      class: 'custom-tree-node'\n    },\n    [\n      // h('i', {\n      //   class: isLeaf ? 'el-icon-document' : 'el-icon-folder'\n      // }),\n      h('span', null, isLeaf ? '📄' : '📁'),\n      h('span', { style: 'margin-left: 5px;' }, node.label)\n    ]\n  );\n}","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"filter-item\"},[_c('div',{class:['title', { 'no-title': _vm.title === '标题' }]},[_c('i',{class:_vm.icon}),_vm._v(\" \"+_vm._s(_vm.title)+\" \")]),_c('div',{staticClass:\"other\"},[_vm._t(\"default\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"filter-item\">\n    <div :class=\"['title', { 'no-title': title === '标题' }]\">\n      <i :class=\"icon\"></i>\n      {{ title }}\n    </div>\n    <div class=\"other\">\n      <slot></slot>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'FilterItem',\n  props: {\n    title: {\n      type: String,\n      default: '标题'\n    },\n    icon: {\n      type: String,\n      default: ''\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.filter-item {\n  display: flex;\n  flex-direction: column;\n  \n  .title {\n    font-size: 14px;\n    color: #6e7786;\n    margin-bottom: 8px;\n\n    &.no-title {\n      color: transparent;\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FilterItem.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./FilterItem.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./FilterItem.vue?vue&type=template&id=299d5d68&scoped=true\"\nimport script from \"./FilterItem.vue?vue&type=script&lang=js\"\nexport * from \"./FilterItem.vue?vue&type=script&lang=js\"\nimport style0 from \"./FilterItem.vue?vue&type=style&index=0&id=299d5d68&prod&lang=scss&scoped=true\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"299d5d68\",\n  null\n  \n)\n\nexport default component.exports","import base_data from '@/assets/data/base_data.json';\n\nconst dataMap = {\n  base_data\n};\n\nexport function queryDataByCondition(data, type = 'base_data') {\n\n  const aimData = dataMap[type];\n\n  return new Promise((resolve) => {\n    const { pageSize, pageNum } = data;\n    const start = (pageNum - 1) * pageSize;\n\n    setTimeout(() => {\n      resolve({\n        status: 200,\n        data: {\n          list: aimData.slice(start, start + pageSize),\n          total: aimData.length\n        }\n      });\n    }, 500);\n  });\n}\n"],"names":["render","_vm","this","_c","_self","staticClass","attrs","slot","_v","staticStyle","model","value","callback","$$v","expression","input","ref","treeData","renderTreeNode","defaultProps","on","handleCheckChange","title","description","aim","_l","selectedFiles","item","key","id","_s","label","size","click","removeFile","length","totalSize","directives","name","rawName","loading","tableData","scopedSlots","_u","fn","scope","row","filenum","style","backgroundColor","colorMap","status","statusMap","$event","handleClick","currentPage","pageSize","total","handleSizeChange","handleCurrentChange","staticRenderFns","components","PanelLayout","FilterItem","data","children","computed","reduce","sum","file","mounted","window","dataApply","setTimeout","$refs","tree","setCheckedKeys","getTableData","methods","checked","indeterminate","nodes","getCheckedNodes","filter","ids","getCheckedKeys","val","console","log","queryDataByCondition","pageNum","then","res","list","component","h","node","store","isLeaf","class","icon","_t","props","type","String","default","dataMap","base_data","aimData","Promise","resolve","start","slice"],"sourceRoot":""}